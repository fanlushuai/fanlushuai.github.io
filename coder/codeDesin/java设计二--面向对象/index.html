<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content><meta name=generator content="Hugo 0.100.1"><meta name=viewport content="width=device-width,initial-scale=1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-188010236-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=/index.xml type=application/rss+xml title=Auh><title>Auh</title></head><body><header><div class="container clearfix"><a class=path href>[Auh]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime="2020-12-27 17:45:02">2020-12-27 17:45:02</time></span>
<span class=key>1327 words</span></div><h1 class=headline itemprop=headline>Java设计(二) 面向对象</h1><section class=body itemprop=articleBody><h1 id=生产好对象从类设计开始>生产好对象，从类设计开始</h1><p>java是面向对象语言。对象是运行过程中类的实例。理解类实例化的运行。同时理解一个类的结构，以及如何设计类内的代码。生产出来一个好对象。</p><p>一个java类，包含的基本结构，构造器、方法、属性。那么了解每基本位置，应该怎么写，就基本上能够编写一个优雅的类。同时，这几个基本结构，也是普通程序员可能都存在问题的地方。无意识是最大的问题。</p><ol><li><p>构造器里面，随便写逻辑。</p><ul><li><p><strong>原因</strong>：基于执行过程的理解，大多数人，只要觉得过程上，保证顺序就可以了。所以，构造器里面随便写逻辑。</p></li><li><p><strong>风险</strong>：构造器里面的逻辑，都是一个类初始化的时候，可控的。所以，构造器里面，应该是对象自身可控的。可控性区别于不可控性，可控的代码更加趋向于有严格的执行顺序。这样可控性才有意义。</p></li><li><p><strong>推荐</strong>：构造器里面，写一些，需要严格控制执行流程的代码。以及一些初始化一次的代码。给对象成员赋值。</p></li><li><p><strong>总结</strong>：你要深刻体会，构造器能够写什么，但是应该些什么，不应该写什么。</p></li></ul></li><li><p>方法的私有和公开，按照心情来。</p><ul><li><p><strong>原因</strong>：一个人写代码，写一个模块。丝毫不用担心被被人瞎调用。这样，只要人写整体流程的时候，人脑控制住流程。那么代码还是能基本执行成功的。这样，只要自己调用方便，就给设置成公开，编辑器提示应该私有，就给设置成私有。或者直接随便无所谓。</p></li><li><p><strong>风险</strong>：如果类型被不知情的人调用。你的方法全部是公开的，别人原则上可以随便调用。可能有些方法具有一定的依赖顺序，然而别人不知道也无法第一时间知道。那么就会因为随便调用，导致，对象内部状态发生可怕的错误。并且，如果一个类里面方法很多，不说别人，自己在用的时候，可能会因为类里面的各种状态，变化，懵逼。</p></li><li><p><strong>推荐</strong>：被严格控制流程的代码，设置为私有。比如构造器里面关联的代码就可以设置为私有。同时，对于公开的方法，公开的方法，用来被别人修改对象的状态，应该具备修改关联性，或者幂等性。被人随便调用都没关系。不然别人多次调用岂不是有可能惨了</p></li><li><p><strong>总结</strong>：方法的能否被外界调用，是否需要暴露。以及暴露之后，存在的多次调用，以及调用顺序。是否存在风险。尽量从类的修饰符和内部代码上规避风险。</p></li></ul></li><li><p>静态方法，抽取与不抽取的无概念操作</p><ul><li><p><strong>原因</strong>：有一部分程序员，对静态代码很热衷，还是热衷于他调用方便，类直接调用。然而，这个静态代码是否设置为静态，以及是否放置在这个类里面或者抽取出来并没有过多的考虑</p></li><li><p><strong>风险</strong>：有些通用的静态代码，独自写一份，那么就不方便其他人使用。浪费静态代码的资源。有些不通用的代码，抽出来，污染通用的静态代码类</p></li><li><p><strong>推荐</strong>：如果此静态方法，和这个对象有较强的的意义关联性，不应该抽取。反之，可以抽取。因为不和某一个对象关联，意味着普适大多数对象。</p></li></ul></li><li><p>其他的一些设计用法</p></li></ol><ul><li>final类型的特性和用法</li></ul><p>横向对比其他语言。感受什么是对象。
python的self的关键字，以及python的语法定义
go语言面向对象的方式，对对象是什么的理解。
对象是什么，
如果一个类，里面全部是无状态的函数，那么这个对象，不能称之为对象。只是一个方法。
对象是什么，对象是有状态的。一定是有自己内部状态，并且，内部的私有方法一定是，与这个状态息息相关的。可以通过go语言面向对象的特点深入理解这一点。</p><p>一个对象实现了状态的隔离。也实现了方法的状态隔离。</p></section></article></main><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script>
<script>const gitalk=new Gitalk({clientID:'dcf0c61ac0ce08c3c9cc',clientSecret:'a8e5a8b611b5e9083e004ee5f0122095cf7e6f43',repo:'fanlushuai.github.io',owner:'fanlushuai',admin:['fanlushuai'],id:decodeURI(location.pathname),distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script></div><footer><div class=container><span class=copyright>Many Thanks to Vscode-Github-Hugo-Base16 Developers</span></div></footer></body></html>