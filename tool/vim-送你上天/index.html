<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=description content><meta name=generator content="Hugo 0.94.2"><meta name=viewport content="width=device-width,initial-scale=1"><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-188010236-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script>
<link rel=stylesheet href=/css/style.css type=text/css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700" type=text/css><link rel=alternate href=/index.xml type=application/rss+xml title=Auh><title>Auh</title></head><body><header><div class="container clearfix"><a class=path href>[Auh]</a>
<span class=caret># _</span><div class=right></div></div></header><div class=container><main role=main class=article><article class=single itemscope itemtype=http://schema.org/BlogPosting><div class=meta><span class=key>published on</span>
<span class=val><time itemprop=datePublished datetime="2016-10-19 22:22:05">2016-10-19 22:22:05</time></span>
<span class=key>3414 words</span></div><h1 class=headline itemprop=headline>Vim 送你上天</h1><section class=body itemprop=articleBody><h1 id=一个vim熟手眼中的vim>一个vim熟手眼中的vim</h1><p>使用vim不算精通，但是使用的范围和频率，使得我对vim的有一定的理解。
下面从3个角度，认识，应用，记忆。来帮助一个新手解决疑惑，快速上手，快速熟练。</p><h2 id=vim键位认识>vim键位认识</h2><p>vim键位是一套键位标准。带来两种操作体验：</p><ol><li><p>将所有编辑器功能，完全的绑定到了键盘上，不用使用鼠标。是设计的目的。设计的效果，也是非常突出。使得操作具备<strong>流畅简洁性</strong>。</p></li><li><p>除了在vim编辑器中，在其他很多常用的软件里面，都是有可能进行vim键位的适配。使得系统的多软件中拥有统一的vim键位操作。具备<strong>多软件统一性</strong>。（不用单独记忆各个编辑器的各种自定义）</p></li></ol><p>简单的理解：你可以定制任何一个软件都变成vim模式，操作都花哨了起来。像idea，sublime，vscode这些属于编辑器，这种vim插件很好理解。但是，还有chrome浏览器支持vim。云笔记支持vim，就显得稍微特殊。但是，中心思想就是，对于常用的软件，适配上vim快捷键。操作都会变得<strong>统一而流畅</strong>。
vim键位，不是vim编辑器独有的。可以理解为一套键位规范，不同的软件，把不同的操作融合进去。</p><h2 id=vim键位应用>vim键位应用</h2><p>vim键位的应用表现于各个软件之中。各个软件都完全或者部分的实现vim键位特征。下面简要的说明</p><h3 id=idea中vim插件>idea中vim插件</h3><h4 id=特殊之处>特殊之处</h4><p>idea存在一些内置的快捷键。如果使用ideavim，内置的快捷键就失效了。比如导航到函数定义的位置。无法使得ideavim和idea共存。只要ideavim开启，无论是在命令行模式，还是插入模式。</p><h4 id=如何舒服的兼容>如何舒服的兼容</h4><p>其实使用idea中使用vim，主要相中的是，vim的命令行模式。
只要，可以使用命令模式一切就可以解决。
那么，我们可以通过设置快快捷键来开启vim和关闭vim来。
实现，idea模式和vim命令行模式的切换。</p><p>这是一种方式。
如果可以开发这个插件的话，ideavim这个插件。支持在input模式下，自动关闭其他快捷键，除了esc和ctrl+[ 。来切回命令模式，使得其他快捷键再次生效。
但是这种也是存在问题的，比如从命令行模式，想要使用idea快捷键，那么，必须首先i切到input模式。其实整个操作链路，和直接开启idea和关闭idea一样了。</p><h3 id=chrome-surfingkeys插件的vim支持>chrome surfingkeys插件的vim支持</h3><p>将chrome的各种操作融合进去了vim之中。
同时，不仅仅是vim逻辑。还会有emacs逻辑。
还会绑定一些，其他的浏览器操作支持快捷键。</p><h3 id=笔记本软件对vim的支持>笔记本软件对vim的支持</h3><p>leanote</p><h3 id=linux中vim编辑器的问题>linux中vim编辑器的问题</h3><h4 id=vim如何和系统剪切板交互>vim如何和系统剪切板交互</h4><p><a href=https://zhuanlan.zhihu.com/p/32494085>https://zhuanlan.zhihu.com/p/32494085</a></p><h4 id=异常对出交换文件的处理>异常对出，交换文件的处理</h4><p><a href=https://blog.51cto.com/daemonsa/1600130>https://blog.51cto.com/daemonsa/1600130</a></p><h2 id=vim快捷键记忆>vim快捷键记忆</h2><p>vim快捷键的记忆，可以说是一大难题。使得vim门槛有一点点高。下面琢磨的记忆方式，可以有效的帮助记忆</p><h3 id=分层分类记忆法>分层分类记忆法</h3><p>基于模式切换分层记忆。在每个层次里面，记忆相关的分类。这样可以对vim的整体基础键位有一个好完整认识和简单记忆
<strong>层次一</strong>：进入输入模式：i，a，o
这个模式下，不存在进一步的按键
<strong>层次二</strong> 进入定位模式：ctrl+[ / esc
a. <strong>光标操作</strong>：</p><ol><li>上下左右，单个字符的位移jkhl</li><li>左右，单词级别的移动，b，e</li><li>左右，行首，行末的移动 ，0$
b. <strong>滚动条操作</strong>：</li><li>顶部，底部，gg，G</li><li>向上，向下，半屏，</li><li>向上，向下，一屏幕</li></ol><p>定位模式理解比较狭窄，其实应该叫命令行。但是因为常用功能为定位，所以，用定位表达比较清晰。
除了命令行模式除了定位模式，还包括比如</p><p>选中模式：列模式，“ctrl+a”，选中一行
编辑模式：dd剪切一行，yy复制一行，移动上下行</p><p><strong>层次三</strong> 进入编辑器的菜单模式：shift+:
保存文件
退出
设置行号
全局搜索</p><h3 id=模仿式记忆vim快捷键和vim编辑器功能>模仿式记忆(vim快捷键，和vim编辑器功能)</h3><p>提取编辑器常用操作，在vim快捷键模式下探索使用方式。
这种记忆，主要就是用来记住复杂一点的操作。vim的快捷键组合起来才能实现的功能。</p><h3 id=宏录制>宏录制</h3><p>第一步：在正常模式下（非insert模式、非visual模式）按下q键盘
第二步：选择a-z或0-9中任意一个作为缓冲器的名字，准备开始录制宏
第三步：正常的操作，此次所有的操作都会被记录在上一步中定义的缓冲器中
第四步：在非insert模式下输入q停止宏的录制
第五步：使用@ + 第二步中定义的缓冲器的名字即可。</p><h3 id=全部删除>全部删除：</h3><p>按esc键后，先按gg（到达顶部），然后dG</p><h3 id=全部复制>全部复制：</h3><p>按esc键后，先按gg，然后ggyG</p><h3 id=两个或多个不同的vim程序进程分别打开文件包括vim文件与非vim文件的内容之间的复制粘贴>两个或多个不同的VIM程序进程分别打开文件。包括vim文件与非VIM文件的内容之间的复制粘贴</h3><p><a href=https://www.xuecaijie.com/vim/174.html>https://www.xuecaijie.com/vim/174.html</a></p><p>vim有12个寄存器，分别是0、1、2、&mldr;、9、a、“、＋
用:reg命令可以查看各个粘贴板里的内容。</p><p>使用寄存器，&ldquo;a1yy,复制1行内容，到a寄存器。
&ldquo;ap,将a寄存器中的内容，粘贴过来。</p><p>+号（或*号）粘贴板是系统粘贴板
所以，vim进程和系统剪切板的交互，就调用+寄存器。</p><p>normal模式下：</p><p>&ldquo;+nyy</p><p>&ldquo;+p</p><p>可视模式：</p><p>&ldquo;+y</p><p>&ldquo;+p</p><h2 id=多主机之间复制粘贴打通操作系统华为分布式操作系统的概念挺牛逼的>多主机之间，复制，粘贴。打通操作系统。。。……，华为分布式操作系统的概念挺牛逼的。</h2><h3 id=可视化模式>可视化模式</h3><p><a href=https://blog.csdn.net/ly890700/article/details/52661878>https://blog.csdn.net/ly890700/article/details/52661878</a>
v
V Visual Line
ctrl+v Visual Block shift+i 输入</p><p><a href=https://zhuanlan.zhihu.com/p/58513837>https://zhuanlan.zhihu.com/p/58513837</a></p><h3 id=列编辑>列编辑</h3><p>vim的列编辑操作
[]删除列
1.光标定位到要操作的地方。
2.CTRL+v 进入“可视 块”模式，选取这一列操作多少行。
3.d 删除。
插入列
插入操作的话知识稍有区别。例如我们在每一行前都插入&rdquo;() &ldquo;：
1.光标定位到要操作的地方。
2.CTRL+v 进入“可视 块”模式，选取这一列操作多少行。
3.SHIFT+i(I) 输入要插入的内容。
4.ESC 按两次，会在每行的选定的区域出现插入的内容。</p><p><a href=https://blog.csdn.net/zhanggang807/article/details/9182467>vim多行编辑行首和行尾</a></p><h3 id=目录树>目录树</h3><p>依赖插件 NERDTree
<a href=https://github.com/preservim/nerdtree>https://github.com/preservim/nerdtree</a></p><p>常用快捷键
<a href=https://gist.github.com/ifels/e0a6d79ee60e113f4294>https://gist.github.com/ifels/e0a6d79ee60e113f4294</a></p><h3 id=显示行号>显示行号</h3><dl><dt>临时显示：</dt><dd>set number
永久显示：
修改vim配置文件vimrc。如果没有此文件可以创建一个。在启动vim时，当前用户根目录下的vimrc文件会被自动读取，因此一般在当前用户的根目录下创建vimrc文件，即使用下面的命令
vim ~/.vimrc
加入一行语句 set number即可</dd></dl><p>关闭行号：
：set nonumber</p><h3 id=vim显示特殊字符>vim显示特殊字符</h3><p><a href=https://blog.csdn.net/wusecaiyun/article/details/50435416>https://blog.csdn.net/wusecaiyun/article/details/50435416</a></p><p>方式一，利用cat：
cat -A file可以把文件中的所有可见的和不可见的字符都显示出来
%!cat -A
方式二，使用vim自身支持：
:set list
:set nolist</p><p>不可见字符可以有哪些？
<a href=https://blog.csdn.net/jichenchen1990/article/details/72652207>https://blog.csdn.net/jichenchen1990/article/details/72652207</a></p><h3 id=查看文件编码和文件编码转换>查看文件编码和文件编码转换</h3><p><a href=https://www.jianshu.com/p/36286fa7a9ed>https://www.jianshu.com/p/36286fa7a9ed</a></p><p>以指定的编码打开文件
vim filexxx -c &ldquo;e ++enc=GBK&rdquo;</p><p>自动解决乱码问题。依照fileencodings提供的编码列表尝试，如果没有找到合适 的编码，就用latin-1(ASCII)编码打开。
~/.vimrc 文件中添加以下内容：
set encoding=utf-8 fileencodings=utf-8</p><p>显示文件编码格式
:set fileencoding</p><p>文件转码
:set fileencoding=utf-8</p><p>查看文件(系统)格式
:set fileformat?</p><p>设置文件(系统)格式为 unix
:set fileformat=unix</p><h3 id=光标显示样式>光标显示样式</h3><p>在normal模式，和insert模式做到</p><ol><li>都能很好的看清</li><li>能够区分模式。</li></ol><p>将normal和insert有差异的都进行加粗。
<a href=https://zhuanlan.zhihu.com/p/24898976>https://zhuanlan.zhihu.com/p/24898976</a>
<a href=https://vim.fandom.com/wiki/Configuring_the_cursor>https://vim.fandom.com/wiki/Configuring_the_cursor</a>
还是不要改了。除非高强度使用vim的话。哈哈</p><p><a href=https://blog.csdn.net/mkosto/article/details/100700454>https://blog.csdn.net/mkosto/article/details/100700454</a></p><h3 id=vim的marks功能>vim的marks功能</h3><p><a href=https://vim.fandom.com/wiki/Using_marks>https://vim.fandom.com/wiki/Using_marks</a></p><p>1.设置标签</p><p>ma 在当前位置设立一个标签名字是 a，这是一个局部标签，只在当前文件内有效。</p><p>如果要设置全局标签，在多个文件之间跳转的话，只要将标签名字大写就可，即 mA。</p><ol start=2><li>标签跳转</li></ol><p>`a 跳转到标签 a 的位置</p><ol start=3><li><p>标签删除 delmarks a</p></li><li><p>查看当前设置的标签 ：marks</p></li></ol><h3 id=vim交换上下行>vim交换上下行</h3><p>ddp 利用了删除的光标移动
xp 交互两个字符。
可以理解为，dd删除的同时，复制了</p><p>###　查找和替换
:{作用范围}s/{目标}/{替换}/{替换标志}
例如:%s/foo/bar/g会在全局范围(%)查找foo并替换为bar，所有出现都会被替换（g）。
<a href=https://harttle.land/2016/08/08/vim-search-in-file.html>https://harttle.land/2016/08/08/vim-search-in-file.html</a></p><p><a href=https://einverne.github.io/post/2017/10/vim-global.html>vim 全局命令g</a>
:[range]global[!]/{pattern}/{command}
:[range]g/pattern/command</p><p>[range] 指定文本范围,默认为整个文档
pattern 在范围 range 内的行如果匹配 pattern，则执行 command
! 表示取反，也就是不匹配的行，也可以使用 vglobal
command 默认是打印文本</p><p>在 range 范围内匹配 patter 的行执行 Ex command。使用 :help ex-cmd 来查看。
常用的 Ex command 可以参考如下例子：</p><p>d 删除
m 移动
t 拷贝
s 替换</p><h3 id=块模式下插入换行>块模式下插入换行。</h3><p>:&rsquo;&lt;,&rsquo;>s/%V/\r/
%V 表示的是光标的位置
<a href=https://vi.stackexchange.com/questions/7922/visual-block-insert-new-line>https://vi.stackexchange.com/questions/7922/visual-block-insert-new-line</a>
<img src=https://ftp.bmp.ovh/imgs/2021/01/029e82137c620870.gif alt></p><h3 id=实现sublime一样的多游标操作>实现sublime一样的多游标操作</h3><p>原生没有这个能力。可能借助宏定义，可以做些具体的。
借助一个插件：
<a href=https://github.com/terryma/vim-multiple-cursors>https://github.com/terryma/vim-multiple-cursors</a></p><h2 id=图形记忆法>图形记忆法</h2><p><img src=/img/1611392069770_2.png alt>
<img src=/img/1611392270135_3.png alt></p><hr><h2 id=杂乱记录>杂乱记录：</h2><h3 id=快捷键文档>快捷键文档：</h3><p><a href=http://vim.rtorr.com/lang/zh_cn/>vim cheat sheet</a>
<a href=https://blog.csdn.net/donahue_ldz/article/details/17139361>https://blog.csdn.net/donahue_ldz/article/details/17139361</a>
<a href=http://vim.rtorr.com/lang/zh_cn/>Vim Cheat Sheet - 简体中文</a></p><p><strong>扩展：linux中，默认的命令行支持emacs快捷键。可以修改为vim。但是没必要。所以，可以学习一下emacs</strong>
<a href=https://ccrma.stanford.edu/guides/package/emacs/emacs.html>Emacs Cheat Sheet</a>
<a href=http://www.rgrjr.com/emacs/emacs_cheat.html>Emacs Cheat Sheet</a></p><h3 id=plugin>Plugin</h3><p>关于vim的配置文件.vimrc
1有的时候系统里确实没有，需要手动创建。
2:scriptnames就可以列出vim加载的文件以及路径，包括.vimrc文件，如果系统存在也会显示出来。
<a href=https://github.com/VundleVim/Vundle.vim>Vundle</a>
<a href=http://spf13.com/post/ultimate-vim-config>Ultimate Vim config</a>
<a href=http://www.2cto.com/os/201403/283767.html>启动过程</a></p><h3 id=杂项>杂项</h3><p><a href=http://blog.csdn.net/haluoluo211/article/details/52448358>vim在idea</a>
<a href=http://blog.sina.com.cn/s/blog_6c9d65a10100lmy5.html>滚屏</a></p><ul><li><input disabled type=checkbox> vim在normal模式下，自动将中文输入法切换成英文，最好是在再次切换回去的时候，能够保留之前的输入法状态。
<a href=https://zhouyanlt.github.io/vim/2019/09/20/vscode-vim-best-practices.html>VscodeVim 最佳实践</a>
<a href=https://vim.rtorr.com/lang/zh_cn/>vim快捷键</a>
<a href=https://github.com/wsdjeg/vim-galore-zh_cn>vim从入门到精通</a></li></ul></section></article></main><div id=gitalk-container></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css><script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script>
<script>const gitalk=new Gitalk({clientID:"dcf0c61ac0ce08c3c9cc",clientSecret:"a8e5a8b611b5e9083e004ee5f0122095cf7e6f43",repo:"fanlushuai.github.io",owner:"fanlushuai",admin:["fanlushuai"],id:decodeURI(location.pathname),distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("gitalk-container").innerHTML="Gitalk comments not available by default when the website is previewed locally.";return}gitalk.render("gitalk-container")})()</script></div><footer><div class=container><span class=copyright>Many Thanks to Vscode-Github-Hugo-Base16 Developers</span></div></footer></body></html>